<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Product Page</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Smooth scrolling effect */
        html {
            scroll-behavior: smooth;
        }
    </style>
</head>
<body class="bg-gray-100 font-sans">
    <header class="p-6 flex justify-between items-center bg-white shadow-md">
        <div class="text-2xl font-bold">AQUAFLOW</div>
        <nav class="flex gap-6">
            <a href="#" class="text-gray-700 hover:text-blue-500">Aquaflow</a>
            <a href="page3.html" class="text-gray-700 hover:text-blue-500">FAQ</a>
        </nav>
    </header>

    <main class="max-w-6xl mx-auto p-8 grid grid-cols-1 lg:grid-cols-2 gap-8">
 <!-- Product Image -->
<div class="relative w-full max-w-6xl mx-auto">
    <div class="bg-white p-6 rounded-lg shadow-md text-center overflow-hidden">
        <!-- Main Product Photo -->
        <div class="transition-transform duration-300 ease-in-out transform hover:scale-110">
            <img 
                alt="LARQ Bottle Filtered - Obsidian Black" 
                class="iiz__img w-full h-auto" 
                src="https://res.cloudinary.com/larq/image/fetch/q_auto,f_auto/https://res.cloudinary.com/larq/images/f_auto,q_auto/v1668516896/2_34434f6d4/2_34434f6d4.png?_i=AA" 
                style="transition: opacity 0ms linear 0ms, visibility 0ms linear 0ms;"
            >
        </div>
    </div>
</div>


        <!-- Product Details -->
        <div>
            <h1 class="text-3xl font-bold text-gray-800 mb-4">AQUAFLOW LARQ Bottle</h1>
            <p class="text-2xl text-gray-600 mb-4">€54.95</p>
            <div class="flex items-center mb-4">
                <a href="#reviews" class="flex text-yellow-500 hover:underline">
                    <span>★★★★★</span>
                    <p class="ml-2 text-gray-500">(159 reviews)</p>
                </a>
            </div>
            
            <!-- Size Selection -->
            <div class="mb-4">
                <label class="block font-semibold text-gray-700 mb-2">Size</label>
                <div class="flex gap-4">
                    <button class="w-24 py-2 border border-gray-300 rounded-lg hover:border-blue-500">680 ml</button>
                    <button class="w-24 py-2 border border-gray-300 rounded-lg hover:border-blue-500">1000 ml</button>
                </div>
            </div>
            
            <!-- Color Selection -->
            <div class="mb-4">
                <label class="block font-semibold text-gray-700 mb-2">Color</label>
                <div class="flex gap-4">
                    <div class="w-8 h-8 bg-gray-400 rounded-full cursor-pointer border-2 border-transparent hover:border-blue-500"></div>
                    <div class="w-8 h-8 bg-purple-400 rounded-full cursor-pointer border-2 border-transparent hover:border-blue-500"></div>
                    <div class="w-8 h-8 bg-pink-400 rounded-full cursor-pointer border-2 border-transparent hover:border-blue-500"></div>
                </div>
            </div>
            
            <!-- Add to Cart Button -->
            <button class="w-full py-3 mt-4 text-white bg-blue-600 rounded-lg hover:bg-blue-700">Add to cart - €54.95</button>
            <p class="text-center text-sm text-gray-500 mt-2">Free shipping on orders over €90</p>

            <!-- Additional Information -->
            <div class="flex justify-around text-center mt-6 text-gray-600">
                <div>
                    <p class="font-bold">24 hours cold</p>
                    <p class="text-xs">Insulated for long-lasting cold</p>
                </div>
                <div>
                    <p class="font-bold">Stainless steel</p>
                    <p class="text-xs">Made with 18/8 stainless steel</p>
                </div>
                <div>
                    <p class="font-bold">BPA-free</p>
                    <p class="text-xs">Safe for daily use</p>
                </div>
            </div>
        </div>
    </main>

<!-- Footer with additional images -->
<div class="max-w-6xl mx-auto p-8 grid grid-cols-3 gap-4">
    <div class="bg-gray-300 h-64 rounded-lg overflow-hidden transition-transform duration-300 ease-in-out hover:scale-105 hover:opacity-80">
        <img src="https://res.cloudinary.com/larq/image/fetch/q_auto,f_auto/https://res.cloudinary.com/larq/images/f_auto,q_auto/v1642182213/filtered-17-ob-2/filtered-17-ob-2.jpg?_i=AA" alt="Additional Image 1" class="object-cover h-full w-full">
    </div>
    <div class="bg-gray-300 h-64 rounded-lg overflow-hidden transition-transform duration-300 ease-in-out hover:scale-105 hover:opacity-80">
        <img src="https://res.cloudinary.com/larq/image/fetch/q_auto,f_auto/https://res.cloudinary.com/larq/images/f_auto,q_auto/v1642182217/filtered-17-ob-3/filtered-17-ob-3.jpg?_i=AA" alt="Additional Image 2" class="object-cover h-full w-full">
    </div>
    <div class="bg-gray-300 h-64 rounded-lg overflow-hidden transition-transform duration-300 ease-in-out hover:scale-105 hover:opacity-80">
        <img src="https://res.cloudinary.com/larq/image/fetch/q_auto,f_auto/https://res.cloudinary.com/larq/images/f_auto,q_auto/v1642182216/filtered-17-ob-5/filtered-17-ob-5.jpg?_i=AA" alt="Additional Image 3" class="object-cover h-full w-full">
    </div>
</div>



   <!-- Reviews Section -->
<section id="reviews" class="max-w-6xl mx-auto pt-20 p-8 mt-8">
    <div class="flex justify-between items-center mb-6">
        <h2 class="text-2xl font-bold text-gray-800">Customer Reviews</h2>
        <div class="flex space-x-4">
            <a href="/page1.html" class="inline-block px-6 py-3 text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition">Leave a review</a>
            <a href="/page2.html" class="inline-block px-6 py-3 text-blue-600 border border-blue-600 rounded-lg hover:bg-blue-600 hover:text-white transition">See all reviews</a>
        </div>
    </div>
    

    <!-- Dynamic Review Tiles -->
    <div id="reviews-container" class="grid gap-6 md:grid-cols-2 lg:grid-cols-3 mb-8">
        <!-- Placeholder content before loading actual reviews -->
        <div class="p-4 bg-gray-50 rounded-lg border border-gray-200 shadow">
            <h3 class="font-semibold text-gray-700">Loading...</h3>
            <p class="text-sm text-gray-500">Please wait while we load reviews.</p>
        </div>
    </div>
</section>


    <!-- Footer -->
    <footer class="bg-white p-6 mt-6 shadow-md">
        <div class="max-w-6xl mx-auto text-center">
            <p class="text-gray-600">&copy; 2024 AQUAFLOW. All rights reserved.</p>
        </div>
    </footer>

<script>
    // Function to generate a random star rating (1 to 5)
    function getRandomStarRating() {
        const rating = Math.floor(Math.random() * 3) + 3; // Random number between 1 and 5
        return '★'.repeat(rating) + '☆'.repeat(5 - rating); // Fill stars based on the rating
    }

    async function loadReviews() {
        try {
            const response = await fetch('/comments');
            const comments = await response.json();
            const container = document.getElementById("reviews-container");
            
            container.innerHTML = ''; // Clear placeholder content

            // Limit to the first 6 reviews
            comments.slice(0, 6).forEach(comment => {
                // Create a review tile for each comment
                const reviewTile = document.createElement("div");
                reviewTile.classList.add("p-4", "rounded-lg", "bg-gray-50", "border", "border-gray-200", "shadow", "flex", "flex-col", "h-64", "relative");

                // Create profile picture with initials and random background color
                const initials = comment.name.split(" ").map(name => name[0]).join("").toUpperCase(); // Get initials
                const profilePic = document.createElement("div");
                
                // Random background color for profile picture
                const randomColor = `hsl(${Math.random() * 360}, 70%, 70%)`; // Lighter shade for profile pic
                profilePic.style.backgroundColor = randomColor;
                profilePic.classList.add("w-12", "h-12", "rounded-full", "flex", "items-center", "justify-center", "text-white", "font-bold", "mb-3");
                profilePic.textContent = initials;

                const name = document.createElement("h3");
                name.classList.add("font-semibold", "text-gray-700");
                name.textContent = comment.name;

                // Create review text with a cut-off
                const textContainer = document.createElement("div");
                textContainer.classList.add("flex-grow");
                
                const text = document.createElement("p");
                text.classList.add("text-sm", "text-gray-500", "line-clamp-2");
                text.textContent = `"${comment.comment}"`;

                const showMore = document.createElement("a");
                showMore.classList.add("text-blue-500", "text-sm", "font-semibold", "absolute", "bottom-4");
                showMore.href = "/page2.html"; // Link to See all reviews page
                showMore.textContent = "Show more";

                // Append elements to the tile
                textContainer.appendChild(text);
                reviewTile.appendChild(profilePic);
                reviewTile.appendChild(name);
                reviewTile.appendChild(textContainer);
                reviewTile.appendChild(showMore);

                // Fake star ratings
                const starRating = document.createElement("div");
                starRating.classList.add("text-yellow-500", "mb-2");
                starRating.textContent = getRandomStarRating(); // Generate random star rating

                reviewTile.insertBefore(starRating, textContainer); // Place star rating above text

                // Add the tile to the container
                container.appendChild(reviewTile);
            });
        } catch (error) {
            console.error('Error loading reviews:', error);
        }
    }

    // Load reviews on page load
    document.addEventListener("DOMContentLoaded", loadReviews);
</script>

    
</body>
</html>
